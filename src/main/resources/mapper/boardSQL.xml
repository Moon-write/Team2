<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="board">
  	<select id="selectCommentList" parameterType="map" resultType="c">
		select * from 
		(select rownum as rnum, c.* from 
		(select
			div_no as divNo,
			project_no as projectNo,
			comment_content as commentContent,
			comment_date as commentDate,
			comment_no as commentNo
		from comment_tbl order by comment_no desc)c) 
		where rnum between #{start} and ${end};  		
  	</select>
  	<select id="selectTotalCount" resultType="int">
  		select (*) 
  		<choose>
	  		<when test="divNo.equals('1')">
	  			 from comment_tbl
	  		</when>
	  		<when test="divNo.equals('2')">
	  			 from like_tbl
	  		</when>
	  		<when test="divNo.equals('3')">
	  			 from qna_tbl
	  		</when>
	  		<when test="divNo.equals('4')">
	  			 from order_tbl
	  		</when>
  		</choose>
  	</select>
</mapper>
