<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="board">
  	<select id="selectCommentList" parameterType="map" resultType="c">
		select * from 
		(select rownum as rnum, c.* from 
		(select
			div_no as divNo,
			project_no as projectNo,
			comment_content as commentContent,
			comment_date as commentDate,
			comment_no as commentNo
		from comment_tbl where member_no=101 order by comment_no desc)c) 
		where rnum between 1 and 10  		
  	</select>
  	<select id="selectCount" parameterType="map" resultType="int">
  		select count(*) from
  		<choose>
  			<when test="#{boardName.equals('comment_tbl')}"> 
  				comment_tbl
  			</when>
  			<when test="#{boardName.equals('like_tbl')}"> 
  				like_tbl
  			</when>
  			<when test="#{boardName.equals('order_tbl')}"> 
  				order_tbl
  			</when>
  			<when test="#{boardName.equals('qna_tbl')}"> 
  				qna_tbl
  			</when>
  		</choose> 
  		where member_no=101
  	</select>
</mapper>
